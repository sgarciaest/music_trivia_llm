# 🎧 Music Trivia with LLMs

This interactive prototype generates personalized music trivia questions based on your saved tracks in Spotify. Using an LLM (Cohere), the app crafts challenging questions from song metadata like title, artist, album, and release date — without needing a predefined question database.



## 🚀 Features

- Seamless Spotify login using OAuth
- Real-time fetching of your saved songs
- Trivia questions dynamically generated by a large language model (LLM)
- Personalized logic: only asks album/artist-specific questions if you have enough tracks from them
- Tracks your performance (score, answer history) and shows personalized stats



## 🛠️ Setup Instructions

You can replicate on your machine using the following steps.

> The prototype could also be checked [here](https://music-trivia-llm.streamlit.app/), but a request to get Extended Quota Mode for this Spotify API app. Until then, the prototype can only be checked by installing it in your own environment with your own API keys, or by asking me to grant access through my Spotify for Developers Dashboard in development mode for now.

### 1. Clone the repository

```bash
git clone https://github.com/sgarciaest/music-trivia-llm.git
cd music-trivia-llm
```

### 2. Create and activate a virtual environment (optional but recommended)

```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

### 3. Install dependencies

```bash
pip install -r requirements.txt
```



### 4. Environment Variables

You’ll need a `.env` file in the root of the project with the following variables:

```
# Spotify Developer credentials
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret
SPOTIFY_REDIRECT_URI=http://localhost:8501

# Cohere API key
COHERE_API_KEY=your_cohere_api_key
```

> ⚠️ Important
>
> - Make sure to [register your app on Spotify Developer Dashboard](https://developer.spotify.com/dashboard/) and add `http://localhost:8501` as a **redirect URI**.
> - Get a free [Cohere API key](https://dashboard.cohere.com/api-keys) to access the LLM used for trivia generation.



### 5. Running the App

Launch the Streamlit app with:

```bash
streamlit run main.py
```

Your browser will open automatically. You'll be asked to log in to Spotify. After logging in, your saved songs will be loaded and trivia will be generated interactively.



## 📁 Project Structure

```
music_trivia/
├── main.py                  # Streamlit app
├── spotify_utils.py         # Spotify auth and data fetching
├── trivia_generator.py      # Prompt logic and personalization
├── cohere_utils.py          # Cohere API integration
├── .env                     # (Not committed) environment variables
├── requirements.txt         # Python dependencies
└── README.md
```

## ✅ Built With

- [Streamlit](https://streamlit.io/)
- [Spotipy](https://spotipy.readthedocs.io/)
- [Cohere](https://cohere.com/)
- Python 3.11+